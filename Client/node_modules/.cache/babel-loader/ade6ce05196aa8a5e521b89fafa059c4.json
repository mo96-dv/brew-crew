{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Momen/Desktop/Prew-Crew/UsersManger/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Momen/Desktop/Prew-Crew/UsersManger/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Momen/Desktop/Prew-Crew/UsersManger/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{FaRegEdit}from'react-icons/fa';import{FaTimes}from'react-icons/fa';import classes from'./UsersTable.module.css';import UpdateUser from'../updateUserForm/UpdateUser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var IdintetyList=function IdintetyList(props){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showUpdateUser=_useState2[0],setShowUpdateUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),oldData=_useState4[0],setOldData=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setId=_useState6[1];// APPENDING THE ID TO UPDATE USER COMPONENT TO HANDLE THE DELETE METHOD\nvar deleteHandeler=function deleteHandeler(id){props.onDelete(id);};// GET THE OLD USER DATA AND PASS IT TO UPDATE USER COMPONENT TO SHOW IT IN THE UPDATE FORM\nvar updateHandeler=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:3001/user/info/oldData/\".concat(id));case 3:res=_context.sent;if(res.ok){_context.next=6;break;}throw new Error('Somthing Went Wrong While Getting Data In The Fields');case 6:_context.next=8;return res.json();case 8:data=_context.sent;setOldData(data);_context.next=15;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](0);console.log(_context.t0);case 15:setId(id);setShowUpdateUser(true);case 17:case\"end\":return _context.stop();}}},_callee,null,[[0,12]]);}));return function updateHandeler(_x){return _ref.apply(this,arguments);};}();//  HANDLING HIDE THE OVERLAY\nvar hideUpdateUser=function hideUpdateUser(){setShowUpdateUser(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsxs(\"table\",{className:classes.table,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Age\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Hobbies\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:props.idintetyInfo.map(function(info){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:info.name}),/*#__PURE__*/_jsx(\"td\",{children:info.age}),/*#__PURE__*/_jsx(\"td\",{children:info.hobbies}),/*#__PURE__*/_jsx(\"td\",{children:info._id}),/*#__PURE__*/_jsxs(\"td\",{className:classes.actions,children:[/*#__PURE__*/_jsx(FaRegEdit,{className:classes.primary,onClick:function onClick(){return updateHandeler(info._id);}}),/*#__PURE__*/_jsx(FaTimes,{className:classes.danger,onClick:function onClick(){return deleteHandeler(info._id);}})]})]},info._id);})})]})}),showUpdateUser&&/*#__PURE__*/_jsx(UpdateUser,{id:id,onCancel:hideUpdateUser,oldInputsValues:oldData})]});};export default IdintetyList;","map":{"version":3,"sources":["C:/Users/Momen/Desktop/Prew-Crew/UsersManger/Client/src/components/AllUsers/UsersTable.js"],"names":["React","useState","FaRegEdit","FaTimes","classes","UpdateUser","IdintetyList","props","showUpdateUser","setShowUpdateUser","oldData","setOldData","id","setId","deleteHandeler","onDelete","updateHandeler","fetch","res","ok","Error","json","data","console","log","hideUpdateUser","container","table","idintetyInfo","map","info","name","age","hobbies","_id","actions","primary","danger"],"mappings":"2fAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,SAAT,KAA0B,gBAA1B,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,MAAOC,CAAAA,OAAP,KAAoB,yBAApB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,C,6IAEA,GAAMC,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC9B,cAA4CN,QAAQ,CAAC,KAAD,CAApD,wCAAOO,cAAP,eAAuBC,iBAAvB,eACA,eAA8BR,QAAQ,CAAC,EAAD,CAAtC,yCAAOS,OAAP,eAAgBC,UAAhB,eAEA,eAAoBV,QAAQ,EAA5B,yCAAOW,EAAP,eAAWC,KAAX,eAEA;AAEA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACF,EAAD,CAAQ,CAC7BL,KAAK,CAACQ,QAAN,CAAeH,EAAf,EACD,CAFD,CAIA;AAEA,GAAMI,CAAAA,cAAc,0FAAG,iBAAOJ,EAAP,qKAEDK,CAAAA,KAAK,mDAA4CL,EAA5C,EAFJ,QAEbM,GAFa,kBAGdA,GAAG,CAACC,EAHU,8BAIX,IAAIC,CAAAA,KAAJ,CAAU,sDAAV,CAJW,8BAMAF,CAAAA,GAAG,CAACG,IAAJ,EANA,QAMbC,IANa,eAOnBX,UAAU,CAACW,IAAD,CAAV,CAPmB,iFASnBC,OAAO,CAACC,GAAR,cATmB,QAYrBX,KAAK,CAACD,EAAD,CAAL,CACAH,iBAAiB,CAAC,IAAD,CAAjB,CAbqB,qEAAH,kBAAdO,CAAAA,cAAc,4CAApB,CAgBA;AAEA,GAAMS,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,EAAM,CAC3BhB,iBAAiB,CAAC,KAAD,CAAjB,CACD,CAFD,CAIA,mBACE,wCACE,YAAK,SAAS,CAAEL,OAAO,CAACsB,SAAxB,uBACE,eAAO,SAAS,CAAEtB,OAAO,CAACuB,KAA1B,wBACE,oCACE,mCACE,4BADF,cAEE,2BAFF,cAGE,+BAHF,cAIE,0BAJF,cAKE,+BALF,GADF,EADF,cAUE,uBACGpB,KAAK,CAACqB,YAAN,CAAmBC,GAAnB,CAAuB,SAACC,IAAD,qBACtB,mCACE,oBAAKA,IAAI,CAACC,IAAV,EADF,cAEE,oBAAKD,IAAI,CAACE,GAAV,EAFF,cAGE,oBAAKF,IAAI,CAACG,OAAV,EAHF,cAIE,oBAAKH,IAAI,CAACI,GAAV,EAJF,cAKE,YAAI,SAAS,CAAE9B,OAAO,CAAC+B,OAAvB,wBACE,KAAC,SAAD,EACE,SAAS,CAAE/B,OAAO,CAACgC,OADrB,CAEE,OAAO,CAAE,yBAAMpB,CAAAA,cAAc,CAACc,IAAI,CAACI,GAAN,CAApB,EAFX,EADF,cAKE,KAAC,OAAD,EACE,SAAS,CAAE9B,OAAO,CAACiC,MADrB,CAEE,OAAO,CAAE,yBAAMvB,CAAAA,cAAc,CAACgB,IAAI,CAACI,GAAN,CAApB,EAFX,EALF,GALF,GAASJ,IAAI,CAACI,GAAd,CADsB,EAAvB,CADH,EAVF,GADF,EADF,CAkCG1B,cAAc,eACb,KAAC,UAAD,EACE,EAAE,CAAEI,EADN,CAEE,QAAQ,CAAEa,cAFZ,CAGE,eAAe,CAAEf,OAHnB,EAnCJ,GADF,CA4CD,CAhFD,CAkFA,cAAeJ,CAAAA,YAAf","sourcesContent":["import React, { useState } from 'react';\r\nimport { FaRegEdit } from 'react-icons/fa';\r\nimport { FaTimes } from 'react-icons/fa';\r\nimport classes from './UsersTable.module.css';\r\nimport UpdateUser from '../updateUserForm/UpdateUser';\r\n\r\nconst IdintetyList = (props) => {\r\n  const [showUpdateUser, setShowUpdateUser] = useState(false);\r\n  const [oldData, setOldData] = useState([]);\r\n\r\n  const [id, setId] = useState();\r\n\r\n  // APPENDING THE ID TO UPDATE USER COMPONENT TO HANDLE THE DELETE METHOD\r\n\r\n  const deleteHandeler = (id) => {\r\n    props.onDelete(id);\r\n  };\r\n\r\n  // GET THE OLD USER DATA AND PASS IT TO UPDATE USER COMPONENT TO SHOW IT IN THE UPDATE FORM\r\n\r\n  const updateHandeler = async (id) => {\r\n    try {\r\n      const res = await fetch(`http://localhost:3001/user/info/oldData/${id}`);\r\n      if (!res.ok) {\r\n        throw new Error('Somthing Went Wrong While Getting Data In The Fields');\r\n      }\r\n      const data = await res.json();\r\n      setOldData(data);\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n\r\n    setId(id);\r\n    setShowUpdateUser(true);\r\n  };\r\n\r\n  //  HANDLING HIDE THE OVERLAY\r\n\r\n  const hideUpdateUser = () => {\r\n    setShowUpdateUser(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={classes.container}>\r\n        <table className={classes.table}>\r\n          <thead>\r\n            <tr>\r\n              <th>Name</th>\r\n              <th>Age</th>\r\n              <th>Hobbies</th>\r\n              <th>ID</th>\r\n              <th>Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {props.idintetyInfo.map((info) => (\r\n              <tr key={info._id}>\r\n                <td>{info.name}</td>\r\n                <td>{info.age}</td>\r\n                <td>{info.hobbies}</td>\r\n                <td>{info._id}</td>\r\n                <td className={classes.actions}>\r\n                  <FaRegEdit\r\n                    className={classes.primary}\r\n                    onClick={() => updateHandeler(info._id)}\r\n                  />\r\n                  <FaTimes\r\n                    className={classes.danger}\r\n                    onClick={() => deleteHandeler(info._id)}\r\n                  />\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      {showUpdateUser && (\r\n        <UpdateUser\r\n          id={id}\r\n          onCancel={hideUpdateUser}\r\n          oldInputsValues={oldData}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default IdintetyList;\r\n"]},"metadata":{},"sourceType":"module"}