{"ast":null,"code":"import _slicedToArray from\"C:/Users/Momen/Desktop/Prew-Crew/UsersManger/Client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import UsersTable from'./UsersTable';import classes from'./Users.module.css';import LoadingSpinner from'../../layout/LoadingSpinner';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyProfile=function MyProfile(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),idintety=_useState2[0],setIdintety=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var url='http://localhost:3001/user/info/allUsers';// LOADING ALL USERS TO THE SCREEN WITH useEffect()\nuseEffect(function(){setLoading(true);fetch(url).then(function(res){if(!res.ok){throw Error('Failed To Get The Users Idintety');}return res.json();}).then(function(data){setIdintety(data);setLoading(false);}).catch(function(err){console.log(err.message);});},[url]);// HANDLING THE DELET USER INFO METHOD\nvar deleteHandeler=function deleteHandeler(id){fetch(\"http://localhost:3001/user/info/delete/\".concat(id),{method:'DELETE'}).then(function(res){return res.json();});alert('User Info Deleted.. The page Will Reload');window.location.reload();// prompt('Are You Sure You Want To Delete This Account');\n// fetch(`http://localhost:3001/delete/email/${id}`, {\n//   method: 'DELETE',\n// }).then((res) => res.json());\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:classes.actions,children:/*#__PURE__*/_jsx(\"h1\",{children:\"All Users\"})}),loading?/*#__PURE__*/_jsx(LoadingSpinner,{}):/*#__PURE__*/_jsx(UsersTable,{idintetyInfo:idintety,onDelete:deleteHandeler})]});};export default MyProfile;","map":{"version":3,"sources":["C:/Users/Momen/Desktop/Prew-Crew/UsersManger/Client/src/components/AllUsers/Users.js"],"names":["React","useState","useEffect","UsersTable","classes","LoadingSpinner","MyProfile","idintety","setIdintety","loading","setLoading","url","fetch","then","res","ok","Error","json","data","catch","err","console","log","message","deleteHandeler","id","method","alert","window","location","reload","actions"],"mappings":"0KAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,oBAApB,CACA,MAAOC,CAAAA,cAAP,KAA2B,6BAA3B,C,6IAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,EAAM,CACtB,cAAgCL,QAAQ,CAAC,EAAD,CAAxC,wCAAOM,QAAP,eAAiBC,WAAjB,eACA,eAA8BP,QAAQ,CAAC,KAAD,CAAtC,yCAAOQ,OAAP,eAAgBC,UAAhB,eACA,GAAMC,CAAAA,GAAG,CAAG,0CAAZ,CAEA;AAEAT,SAAS,CAAC,UAAM,CACdQ,UAAU,CAAC,IAAD,CAAV,CACAE,KAAK,CAACD,GAAD,CAAL,CACGE,IADH,CACQ,SAACC,GAAD,CAAS,CACb,GAAI,CAACA,GAAG,CAACC,EAAT,CAAa,CACX,KAAMC,CAAAA,KAAK,CAAC,kCAAD,CAAX,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CANH,EAOGJ,IAPH,CAOQ,SAACK,IAAD,CAAU,CACdV,WAAW,CAACU,IAAD,CAAX,CACAR,UAAU,CAAC,KAAD,CAAV,CACD,CAVH,EAWGS,KAXH,CAWS,SAACC,GAAD,CAAS,CACdC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,OAAhB,EACD,CAbH,EAcD,CAhBQ,CAgBN,CAACZ,GAAD,CAhBM,CAAT,CAkBA;AAEA,GAAMa,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,EAAD,CAAQ,CAC7Bb,KAAK,kDAA2Ca,EAA3C,EAAiD,CACpDC,MAAM,CAAE,QAD4C,CAAjD,CAAL,CAEGb,IAFH,CAEQ,SAACC,GAAD,QAASA,CAAAA,GAAG,CAACG,IAAJ,EAAT,EAFR,EAIAU,KAAK,CAAC,0CAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACA;AACA;AACA;AACA;AACD,CAXD,CAYA,mBACE,wCACE,YAAK,SAAS,CAAE1B,OAAO,CAAC2B,OAAxB,uBACE,iCADF,EADF,CAIGtB,OAAO,cACN,KAAC,cAAD,IADM,cAGN,KAAC,UAAD,EAAY,YAAY,CAAEF,QAA1B,CAAoC,QAAQ,CAAEiB,cAA9C,EAPJ,GADF,CAYD,CAnDD,CAqDA,cAAelB,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nimport UsersTable from './UsersTable';\r\nimport classes from './Users.module.css';\r\nimport LoadingSpinner from '../../layout/LoadingSpinner';\r\n\r\nconst MyProfile = () => {\r\n  const [idintety, setIdintety] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const url = 'http://localhost:3001/user/info/allUsers';\r\n\r\n  // LOADING ALL USERS TO THE SCREEN WITH useEffect()\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    fetch(url)\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw Error('Failed To Get The Users Idintety');\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((data) => {\r\n        setIdintety(data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err.message);\r\n      });\r\n  }, [url]);\r\n\r\n  // HANDLING THE DELET USER INFO METHOD\r\n\r\n  const deleteHandeler = (id) => {\r\n    fetch(`http://localhost:3001/user/info/delete/${id}`, {\r\n      method: 'DELETE',\r\n    }).then((res) => res.json());\r\n\r\n    alert('User Info Deleted.. The page Will Reload');\r\n    window.location.reload();\r\n    // prompt('Are You Sure You Want To Delete This Account');\r\n    // fetch(`http://localhost:3001/delete/email/${id}`, {\r\n    //   method: 'DELETE',\r\n    // }).then((res) => res.json());\r\n  };\r\n  return (\r\n    <>\r\n      <div className={classes.actions}>\r\n        <h1>All Users</h1>\r\n      </div>\r\n      {loading ? (\r\n        <LoadingSpinner />\r\n      ) : (\r\n        <UsersTable idintetyInfo={idintety} onDelete={deleteHandeler} />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MyProfile;\r\n"]},"metadata":{},"sourceType":"module"}